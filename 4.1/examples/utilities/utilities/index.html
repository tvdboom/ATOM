<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="tvdboom">
        <link rel="canonical" href="http://tvdboom.github.io/ATOM/4.1/examples/utilities/utilities/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Utilities - ATOM</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/color-brewer.min.css">
        <link href="../../../css/version-select.css" rel="stylesheet">

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">ATOM</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../../../getting_started/" class="nav-link">Getting started</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../user_guide/" class="nav-link">User guide</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">ATOM</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../API/ATOM/atomclassifier/" class="dropdown-item">ATOMClassifier</a>
</li>
            
<li>
    <a href="../../../API/ATOM/atomregressor/" class="dropdown-item">ATOMRegressor</a>
</li>
            
<li>
    <a href="../../../API/ATOM/atomloader/" class="dropdown-item">ATOMLoader</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Data cleaning</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../API/data_cleaning/scaler/" class="dropdown-item">Scaler</a>
</li>
            
<li>
    <a href="../../../API/data_cleaning/standard_cleaner/" class="dropdown-item">StandardCleaner</a>
</li>
            
<li>
    <a href="../../../API/data_cleaning/imputer/" class="dropdown-item">Imputer</a>
</li>
            
<li>
    <a href="../../../API/data_cleaning/encoder/" class="dropdown-item">Encoder</a>
</li>
            
<li>
    <a href="../../../API/data_cleaning/outliers/" class="dropdown-item">Outliers</a>
</li>
            
<li>
    <a href="../../../API/data_cleaning/balancer/" class="dropdown-item">Balancer</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Feature engineering</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../API/feature_engineering/feature_generator/" class="dropdown-item">FeatureGenerator</a>
</li>
            
<li>
    <a href="../../../API/feature_engineering/feature_selector/" class="dropdown-item">FeatureSelector</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Training</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Trainer</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../API/training/trainerclassifier/" class="dropdown-item">TrainerClassifier</a>
</li>
            
<li>
    <a href="../../../API/training/trainerregressor/" class="dropdown-item">TrainerRegressor</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">SuccessiveHalving</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../API/training/successivehalvingclassifier/" class="dropdown-item">SuccessiveHalvingClassifier</a>
</li>
            
<li>
    <a href="../../../API/training/successivehalvingregressor/" class="dropdown-item">SuccessiveHalvingClassifier</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">TrainSizing</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../API/training/trainsizingclassifier/" class="dropdown-item">TrainSizingClassifier</a>
</li>
            
<li>
    <a href="../../../API/training/trainsizingregressor/" class="dropdown-item">TrainSizingRegressor</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Models</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../API/models/gp/" class="dropdown-item">Gaussian Process</a>
</li>
            
<li>
    <a href="../../../API/models/gnb/" class="dropdown-item">Gaussian Naive Bayes</a>
</li>
            
<li>
    <a href="../../../API/models/mnb/" class="dropdown-item">Multinomial Naive Bayes</a>
</li>
            
<li>
    <a href="../../../API/models/bnb/" class="dropdown-item">Bernoulli Naive Bayes</a>
</li>
            
<li>
    <a href="../../../API/models/catnb/" class="dropdown-item">Categorical Naive Bayes</a>
</li>
            
<li>
    <a href="../../../API/models/cnb/" class="dropdown-item">Complement Naive Bayes</a>
</li>
            
<li>
    <a href="../../../API/models/ols/" class="dropdown-item">Ordinary Least Squares</a>
</li>
            
<li>
    <a href="../../../API/models/ridge/" class="dropdown-item">Ridge</a>
</li>
            
<li>
    <a href="../../../API/models/lasso/" class="dropdown-item">Lasso</a>
</li>
            
<li>
    <a href="../../../API/models/en/" class="dropdown-item">Elastic Net</a>
</li>
            
<li>
    <a href="../../../API/models/br/" class="dropdown-item">Bayesian Ridge</a>
</li>
            
<li>
    <a href="../../../API/models/ard/" class="dropdown-item">Automated Relevance Determination</a>
</li>
            
<li>
    <a href="../../../API/models/lr/" class="dropdown-item">Logistic Regression</a>
</li>
            
<li>
    <a href="../../../API/models/lda/" class="dropdown-item">Linear Discriminant Analysis</a>
</li>
            
<li>
    <a href="../../../API/models/qda/" class="dropdown-item">Quadratic Discriminant Analysis</a>
</li>
            
<li>
    <a href="../../../API/models/knn/" class="dropdown-item">K-Nearest Neighbors</a>
</li>
            
<li>
    <a href="../../../API/models/rnn/" class="dropdown-item">Radius Nearest Neighbors</a>
</li>
            
<li>
    <a href="../../../API/models/tree/" class="dropdown-item">Decision Tree</a>
</li>
            
<li>
    <a href="../../../API/models/bag/" class="dropdown-item">Bagging</a>
</li>
            
<li>
    <a href="../../../API/models/et/" class="dropdown-item">Extra-Trees</a>
</li>
            
<li>
    <a href="../../../API/models/rf/" class="dropdown-item">Random Forest</a>
</li>
            
<li>
    <a href="../../../API/models/adab/" class="dropdown-item">AdaBoost</a>
</li>
            
<li>
    <a href="../../../API/models/gbm/" class="dropdown-item">Gradient Boosting Machine</a>
</li>
            
<li>
    <a href="../../../API/models/xgb/" class="dropdown-item">XGBoost</a>
</li>
            
<li>
    <a href="../../../API/models/lgb/" class="dropdown-item">LightGBM</a>
</li>
            
<li>
    <a href="../../../API/models/catb/" class="dropdown-item">CatBoost</a>
</li>
            
<li>
    <a href="../../../API/models/lsvm/" class="dropdown-item">Linear-SVM</a>
</li>
            
<li>
    <a href="../../../API/models/ksvm/" class="dropdown-item">Kernel-SVM</a>
</li>
            
<li>
    <a href="../../../API/models/pa/" class="dropdown-item">Passive Aggressive</a>
</li>
            
<li>
    <a href="../../../API/models/sgd/" class="dropdown-item">Stochastic Gradient Descent</a>
</li>
            
<li>
    <a href="../../../API/models/mlp/" class="dropdown-item">Multi-layer Perceptron</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Predicting</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../API/predicting/transform/" class="dropdown-item">transform</a>
</li>
            
<li>
    <a href="../../../API/predicting/predict/" class="dropdown-item">predict</a>
</li>
            
<li>
    <a href="../../../API/predicting/predict_proba/" class="dropdown-item">predict_proba</a>
</li>
            
<li>
    <a href="../../../API/predicting/predict_log_proba/" class="dropdown-item">predict_log_proba</a>
</li>
            
<li>
    <a href="../../../API/predicting/decision_function/" class="dropdown-item">decision_function</a>
</li>
            
<li>
    <a href="../../../API/predicting/score/" class="dropdown-item">score</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Plots</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../API/plots/plot_correlation/" class="dropdown-item">plot_correlation</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_pipeline/" class="dropdown-item">plot_pipeline</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_pca/" class="dropdown-item">plot_pca</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_components/" class="dropdown-item">plot_components</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_rfecv/" class="dropdown-item">plot_rfecv</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_successive_halving/" class="dropdown-item">plot_successive_halving</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_learning_curve/" class="dropdown-item">plot_learning_curve</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_bagging/" class="dropdown-item">plot_bagging</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_bo/" class="dropdown-item">plot_bo</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_evals/" class="dropdown-item">plot_evals</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_roc/" class="dropdown-item">plot_roc</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_prc/" class="dropdown-item">plot_prc</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_permutation_importance/" class="dropdown-item">plot_permutation_importance</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_feature_importance/" class="dropdown-item">plot_feature_importance</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_partial_dependence/" class="dropdown-item">plot_partial_dependence</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_errors/" class="dropdown-item">plot_errors</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_residuals/" class="dropdown-item">plot_residuals</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_confusion_matrix/" class="dropdown-item">plot_confusion_matrix</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_threshold/" class="dropdown-item">plot_threshold</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_probabilities/" class="dropdown-item">plot_probabilities</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_calibration/" class="dropdown-item">plot_calibration</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_gains/" class="dropdown-item">plot_gains</a>
</li>
            
<li>
    <a href="../../../API/plots/plot_lift/" class="dropdown-item">plot_lift</a>
</li>
            
<li>
    <a href="../../../API/plots/force_plot/" class="dropdown-item">force_plot</a>
</li>
            
<li>
    <a href="../../../API/plots/dependence_plot/" class="dropdown-item">dependence_plot</a>
</li>
            
<li>
    <a href="../../../API/plots/summary_plot/" class="dropdown-item">summary_plot</a>
</li>
            
<li>
    <a href="../../../API/plots/decision_plot/" class="dropdown-item">decision_plot</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Examples <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../binary_classification/binary_classification/" class="dropdown-item">Binary classification</a>
</li>
                                    
<li>
    <a href="../../multiclass_classification/multiclass_classification/" class="dropdown-item">Multiclass_classification</a>
</li>
                                    
<li>
    <a href="../../regression/regression/" class="dropdown-item">Regression</a>
</li>
                                    
<li>
    <a href="../../successive_halving/successive_halving/" class="dropdown-item">Successive halving</a>
</li>
                                    
<li>
    <a href="../../train_sizing/train_sizing/" class="dropdown-item">Train sizing</a>
</li>
                                    
<li>
    <a href="../../feature_engineering/feature_engineering/" class="dropdown-item">Feature engineering</a>
</li>
                                    
<li>
    <a href="../../multi_metric/multi_metric/" class="dropdown-item">Multi-metric</a>
</li>
                                    
<li>
    <a href="../../early_stopping/early_stopping/" class="dropdown-item">Early stopping</a>
</li>
                                    
<li>
    <a href="../../calibration/calibration/" class="dropdown-item">Calibration</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Utilities</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../../dependencies/" class="nav-link">Dependencies</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../license/" class="nav-link">License</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../../calibration/calibration/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../../../dependencies/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/tvdboom/ATOM" class="nav-link"><i class="fa fa-github"></i> GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#utilities" class="nav-link">Utilities</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#load-the-data" class="nav-link">Load the data</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#use-the-utility-attributes" class="nav-link">Use the utility attributes</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#use-the-stats-method-to-check-changes-in-the-dataset" class="nav-link">Use the stats method to check changes in the dataset</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#change-the-data-mid-pipeline" class="nav-link">Change the data mid-pipeline</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#visualize-the-pipeline" class="nav-link">Visualize the pipeline</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#use-a-custom-metric" class="nav-link">Use a custom metric</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#customize-the-estimators-parameters" class="nav-link">Customize the estimator's parameters</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#customize-the-plot-aesthetics" class="nav-link">Customize the plot aesthetics</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="utilities">Utilities</h1>
<hr />
<p>This example shows various useful utilities that can be used to improve your pipelines.</p>
<p>The data used is a variation on the Australian weather dataset from <a href="https://www.kaggle.com/jsphyg/weather-dataset-rattle-package">https://www.kaggle.com/jsphyg/weather-dataset-rattle-package</a>. The goal of this dataset is to predict whether or not it will rain tomorrow training a binay classifier on target <code>RainTomorrow</code>.</p>
<h2 id="load-the-data">Load the data</h2>
<pre><code class="language-python"># Import packages
import pandas as pd
from sklearn.metrics import fbeta_score
from atom import ATOMClassifier
</code></pre>
<pre><code class="language-python"># Load data
X = pd.read_csv('./datasets/weatherAUS.csv')

# Let's have a look at a subset of the data
X.sample(frac=1).iloc[:5, :8]
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Location</th>
      <th>MinTemp</th>
      <th>MaxTemp</th>
      <th>Rainfall</th>
      <th>Evaporation</th>
      <th>Sunshine</th>
      <th>WindGustDir</th>
      <th>WindGustSpeed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>114293</th>
      <td>PearceRAAF</td>
      <td>3.1</td>
      <td>20.3</td>
      <td>0.2</td>
      <td>NaN</td>
      <td>8.9</td>
      <td>S</td>
      <td>28.0</td>
    </tr>
    <tr>
      <th>94808</th>
      <td>Adelaide</td>
      <td>21.4</td>
      <td>23.2</td>
      <td>30.2</td>
      <td>5.4</td>
      <td>0.0</td>
      <td>N</td>
      <td>22.0</td>
    </tr>
    <tr>
      <th>130362</th>
      <td>Launceston</td>
      <td>6.9</td>
      <td>22.5</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>N</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>28536</th>
      <td>Richmond</td>
      <td>13.7</td>
      <td>30.3</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>SSW</td>
      <td>76.0</td>
    </tr>
    <tr>
      <th>58618</th>
      <td>Bendigo</td>
      <td>4.0</td>
      <td>16.6</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>SE</td>
      <td>20.0</td>
    </tr>
  </tbody>
</table>
</div>

<h2 id="use-the-utility-attributes">Use the utility attributes</h2>
<pre><code class="language-python">atom = ATOMClassifier(X, warnings=False, random_state=1)

# We can quickly check what columns have missing values
print(&quot;Columns with missing values:\n&quot;, atom.missing)

# Or what columns are categorical
print(&quot;\nCategorical columns:&quot;, atom.categorical)

# Or if the dataset is scaled
print(&quot;\nIs the dataset scaled?&quot;, atom.scaled)
</code></pre>
<pre><code>Columns with missing values:
 MinTemp            637
MaxTemp            322
Rainfall          1406
Evaporation      60843
Sunshine         67816
WindGustDir       9330
WindGustSpeed     9270
WindDir9am       10013
WindDir3pm        3778
WindSpeed9am      1348
WindSpeed3pm      2630
Humidity9am       1774
Humidity3pm       3610
Pressure9am      14014
Pressure3pm      13981
Cloud9am         53657
Cloud3pm         57094
Temp9am            904
Temp3pm           2726
RainToday         1406
dtype: int64

Categorical columns: ['Location', 'WindGustDir', 'WindDir9am', 'WindDir3pm', 'RainToday']

Is the dataset scaled? False
</code></pre>
<h2 id="use-the-stats-method-to-check-changes-in-the-dataset">Use the stats method to check changes in the dataset</h2>
<pre><code class="language-python"># Note the number of missing values and categorical columns
atom.stats()

# Now, let's impute and encode the dataset...
atom.impute()
atom.encode()

# ... and the values are gone
atom.stats()
</code></pre>
<pre><code>Dataset stats ================= &gt;&gt;
Shape: (142193, 22)
Missing values: 316559
Categorical columns: 5
Scaled: False
----------------------------------
Train set size: 113755
Test set size: 28438
----------------------------------
Dataset balance: No:Yes &lt;==&gt; 3.5:1.0
----------------------------------
Instances in RainTomorrow per class:
|        |    total |    train_set |    test_set |
|:-------|---------:|-------------:|------------:|
| 0: No  |   110316 |        88263 |       22053 |
| 1: Yes |    31877 |        25492 |        6385 |


Dataset stats ================= &gt;&gt;
Shape: (56420, 22)
Scaled: False
----------------------------------
Train set size: 45136
Test set size: 11284
----------------------------------
Dataset balance: No:Yes &lt;==&gt; 3.5:1.0
----------------------------------
Instances in RainTomorrow per class:
|        |    total |    train_set |    test_set |
|:-------|---------:|-------------:|------------:|
| 0: No  |    43993 |        35199 |        8794 |
| 1: Yes |    12427 |         9937 |        2490 |
</code></pre>
<h2 id="change-the-data-mid-pipeline">Change the data mid-pipeline</h2>
<pre><code class="language-python"># We can change atom's data mid-pipeline
# Note that we can only replace a dataframe with a new dataframe!
atom.X = atom.X.assign(AvgTemp=(atom.X['MaxTemp'] + atom.X['MinTemp'])/2)

# This will automatically update all other data attributes
assert 'AvgTemp' in atom.dataset
</code></pre>
<h2 id="visualize-the-pipeline">Visualize the pipeline</h2>
<pre><code class="language-python"># We can easily visualize the pipeline in two ways
print(atom)  # Directly in the notebook
atom.plot_pipeline()  # Using a plot
</code></pre>
<pre><code>ATOMClassifier
 --&gt; StandardCleaner
   &gt;&gt;&gt; prohibited_types: ['datetime64', 'datetime64[ns]', 'timedelta[ns]']
   &gt;&gt;&gt; strip_categorical: True
   &gt;&gt;&gt; maximum_cardinality: True
   &gt;&gt;&gt; minimum_cardinality: True
   &gt;&gt;&gt; missing_target: True
   &gt;&gt;&gt; map_target: True
 --&gt; Imputer
   &gt;&gt;&gt; strat_num: drop
   &gt;&gt;&gt; strat_cat: drop
   &gt;&gt;&gt; min_frac_rows: 0.5
   &gt;&gt;&gt; min_frac_cols: 0.5
   &gt;&gt;&gt; missing: {'', 'None', 'inf', 'NA', '?', 'nan', inf, -inf}
 --&gt; Encoder
   &gt;&gt;&gt; strategy: LeaveOneOut
   &gt;&gt;&gt; max_onehot: 10
   &gt;&gt;&gt; frac_to_other: None
   &gt;&gt;&gt; kwargs: {}
</code></pre>
<p><img alt="png" src="../output_11_1.png" /></p>
<h2 id="use-a-custom-metric">Use a custom metric</h2>
<pre><code class="language-python">atom.verbose = 1

# Define a custom metric
def f2_score(y_true, y_pred):
    return fbeta_score(y_true, y_pred, beta=2)

# Remember to use the greater_is_better, needs_proba and needs_threshold parameters if necessary!
atom.run(models='lr', metric=f2_score)
</code></pre>
<pre><code>Training ===================================== &gt;&gt;
Models: LR
Metric: f2_score


Results for Logistic Regression:         
Fit ---------------------------------------------
Score on the train set --&gt; f2_score: 0.5678
Score on the test set  --&gt; f2_score: 0.5682
Time elapsed: 0.201s
-------------------------------------------------
Total time: 0.226s


Final results ========================= &gt;&gt;
Duration: 0.228s
------------------------------------------
Logistic Regression --&gt; f2_score: 0.568
</code></pre>
<h2 id="customize-the-estimators-parameters">Customize the estimator's parameters</h2>
<pre><code class="language-python"># You can use the est_params parameter to customize the estimator
# Let's run AdaBoost using LR instead of a decision tree as base estimator
atom.run('AdaB', est_params={'base_estimator': atom.lr.estimator})
</code></pre>
<pre><code>Training ===================================== &gt;&gt;
Models: AdaB
Metric: f2_score


Results for AdaBoost:         
Fit ---------------------------------------------
Score on the train set --&gt; f2_score: 0.5565
Score on the test set  --&gt; f2_score: 0.5482
Time elapsed: 2.024s
-------------------------------------------------
Total time: 2.027s


Final results ========================= &gt;&gt;
Duration: 2.029s
------------------------------------------
AdaBoost --&gt; f2_score: 0.548
</code></pre>
<pre><code class="language-python">atom.adab.estimator
</code></pre>
<pre><code>AdaBoostClassifier(base_estimator=LogisticRegression(n_jobs=1, random_state=1),
                   random_state=1)
</code></pre>
<pre><code class="language-python"># Note that parameters specified by est_params are not optimized in the BO
# (also, we can change the verbosity per method)
atom.run('tree', n_calls=3, n_initial_points=1, est_params={'max_depth': 2}, verbose=2)
</code></pre>
<pre><code>Training ===================================== &gt;&gt;
Models: Tree
Metric: f2_score


Running BO for Decision Tree...
Initial point 1 ---------------------------------
Parameters --&gt; {'criterion': 'gini', 'splitter': 'best', 'min_samples_split': 2, 'min_samples_leaf': 1, 'max_features': None, 'ccp_alpha': 0}
Evaluation --&gt; f2_score: 0.4936  Best f2_score: 0.4936
Time iteration: 0.383s   Total time: 0.397s
Iteration 2 -------------------------------------
Parameters --&gt; {'criterion': 'gini', 'splitter': 'random', 'min_samples_split': 4, 'min_samples_leaf': 20, 'max_features': 0.7, 'ccp_alpha': 0.014}
Evaluation --&gt; f2_score: 0.0000  Best f2_score: 0.4936
Time iteration: 0.146s   Total time: 0.547s
Iteration 3 -------------------------------------
Parameters --&gt; {'criterion': 'gini', 'splitter': 'random', 'min_samples_split': 3, 'min_samples_leaf': 6, 'max_features': None, 'ccp_alpha': 0.03}
Evaluation --&gt; f2_score: 0.0000  Best f2_score: 0.4936
Time iteration: 0.159s   Total time: 0.942s

Results for Decision Tree:         
Bayesian Optimization ---------------------------
Best parameters --&gt; {'criterion': 'gini', 'splitter': 'best', 'min_samples_split': 2, 'min_samples_leaf': 1, 'max_features': None, 'ccp_alpha': 0}
Best evaluation --&gt; f2_score: 0.4936
Time elapsed: 1.222s
Fit ---------------------------------------------
Score on the train set --&gt; f2_score: 0.4937
Score on the test set  --&gt; f2_score: 0.4878
Time elapsed: 0.106s
-------------------------------------------------
Total time: 1.339s


Final results ========================= &gt;&gt;
Duration: 1.341s
------------------------------------------
Decision Tree --&gt; f2_score: 0.488
</code></pre>
<h2 id="customize-the-plot-aesthetics">Customize the plot aesthetics</h2>
<pre><code class="language-python"># Use the plotting attributes to further customize your plots!
atom.palette= 'Blues'
atom.style = 'white'

atom.plot_roc()
</code></pre>
<p><img alt="png" src="../output_19_0.png" /></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Â© Copyright 2020, by tvdboom.</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="../../../search/main.js" defer></script>
        <script src="../../../js/version-select.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
